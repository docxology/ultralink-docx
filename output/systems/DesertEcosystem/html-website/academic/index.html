
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DesertEcosystem Knowledge Graph</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="styles/academic.css">
  
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    :root {
      
      
      --text-color: #333;
      --bg-color: #f5f5f5;
      --header-bg: #7b1fa2;
      --card-bg: #fff;
      --border-color: #ddd;
      --link-color: #7b1fa2;
      --hover-color: #4a148c;
      
    }
    
    body {
      background: var(--bg-color);
      color: var(--text-color);
      font-family: 'Palatino Linotype', 'Book Antiqua', Palatino, serif;
    }
    
    header, footer {
      background: rgba(32, 33, 36, 0.8);
      background-color: #7b1fa2;
    }

    @media (max-width: 768px) {
      nav {
        flex-direction: column;
      }
      .visualization-controls {
        flex-direction: column;
      }
      .entity-types ul {
        padding-left: 1rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>DesertEcosystem Knowledge Graph</h1>
    <p>Interactive visualization of DesertEcosystem relationships</p>
    <nav>
      <a href="index.html" class="active">Home</a>
      <a href="entities.html">All Entities</a>
      <a href="relationships.html">All Relationships</a>
    </nav>
  </header>
  
  <main>
    <section class="summary">
      <h2>Knowledge Base Summary</h2>
      <p>System: DesertEcosystem Knowledge Graph</p>
      <p>Total Entities: 46</p>
      <p>Total Relationships: 47</p>
      <p>Interactive visualization of research team relationships</p>
    </section>
    
    <section class="visualization-controls">
      <div class="filters">
        <div id="type-filters">
          <h3>Filter by Type</h3>
          <!-- Type filters will be generated by JavaScript -->
        </div>
        <button class="btn" id="clear-filters">Clear Filters</button>
      </div>
      <div class="zoom-controls">
        <button class="zoom-btn" id="zoom-in">+</button>
        <button class="zoom-btn" id="zoom-reset">⟳</button>
        <button class="zoom-btn" id="zoom-out">−</button>
      </div>
    </section>
    
    <section class="visualization">
      <div id="graph"></div>
    </section>
    
    <section class="entity-types">
      <h2>Entity Types</h2>
      <ul>
            <li>
              <strong>animal</strong>: 14 entities
              <ul>
                <li>
                  <a href="camel.html">Dromedary Camel</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('camel')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="fennec_fox.html">Fennec Fox</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('fennec_fox')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="desert_monitor.html">Desert Monitor</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('desert_monitor')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="sidewinder.html">Sidewinder Rattlesnake</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('sidewinder')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="scorpion.html">Deathstalker Scorpion</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('scorpion')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="darkling_beetle.html">Darkling Beetle</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('darkling_beetle')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="roadrunner.html">Greater Roadrunner</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('roadrunner')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="desert_tortoise.html">Desert Tortoise</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('desert_tortoise')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="cactus_wren.html">Cactus Wren</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('cactus_wren')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="kangaroo_rat.html">Merriam's Kangaroo Rat</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('kangaroo_rat')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="gila_monster.html">Gila Monster</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('gila_monster')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="javelina.html">Javelina</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('javelina')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="yucca_moth.html">Yucca Moth</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('yucca_moth')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="coyote.html">Coyote</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('coyote')" class="visualize-link">(visualize)</a>
                </li>
              </ul>
            </li>
            <li>
              <strong>plant</strong>: 13 entities
              <ul>
                <li>
                  <a href="saguaro.html">Saguaro Cactus</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('saguaro')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="barrel_cactus.html">Barrel Cactus</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('barrel_cactus')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="mesquite.html">Honey Mesquite</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('mesquite')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="creosote_bush.html">Creosote Bush</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('creosote_bush')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="desert_poppy.html">Desert Poppy</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('desert_poppy')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="ocotillo.html">Ocotillo</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('ocotillo')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="brittlebush.html">Brittlebush</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('brittlebush')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="desert_ironwood.html">Desert Ironwood</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('desert_ironwood')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="agave.html">Century Plant</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('agave')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="joshua_tree.html">Joshua Tree</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('joshua_tree')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="prickly_pear.html">Prickly Pear Cactus</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('prickly_pear')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="cholla_cactus.html">Cholla Cactus</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('cholla_cactus')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="other_plants.html">Various Desert Plants</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('other_plants')" class="visualize-link">(visualize)</a>
                </li>
              </ul>
            </li>
            <li>
              <strong>abiotic_factor</strong>: 12 entities
              <ul>
                <li>
                  <a href="heat.html">Extreme Heat</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('heat')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="temperature_variation.html">Temperature Variation</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('temperature_variation')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="aridity.html">Aridity</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('aridity')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="sand_dunes.html">Sand Dunes</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('sand_dunes')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="rocky_outcrops.html">Rocky Outcrops</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('rocky_outcrops')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="oasis.html">Oasis</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('oasis')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="ephemeral_streams.html">Ephemeral Streams</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('ephemeral_streams')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="sandy_soil.html">Sandy Soil</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('sandy_soil')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="desert_pavement.html">Desert Pavement</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('desert_pavement')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="desert_varnish.html">Desert Varnish</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('desert_varnish')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="playa.html">Playa</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('playa')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="flash_floods.html">Flash Floods</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('flash_floods')" class="visualize-link">(visualize)</a>
                </li>
              </ul>
            </li>
            <li>
              <strong>microhabitat</strong>: 4 entities
              <ul>
                <li>
                  <a href="wash.html">Desert Wash</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('wash')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="dune_field.html">Sand Dune Field</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('dune_field')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="rocky_slope.html">Rocky Slope</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('rocky_slope')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="canyon.html">Desert Canyon</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('canyon')" class="visualize-link">(visualize)</a>
                </li>
              </ul>
            </li>
            <li>
              <strong>interaction</strong>: 3 entities
              <ul>
                <li>
                  <a href="pollination_yucca.html">Yucca-Moth Pollination</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('pollination_yucca')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="nurse_plant.html">Nurse Plant Relationship</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('nurse_plant')" class="visualize-link">(visualize)</a>
                </li>
                <li>
                  <a href="seed_dispersal.html">Seed Dispersal</a>
                  <a href="javascript:void(0)" onclick="selectEntityById('seed_dispersal')" class="visualize-link">(visualize)</a>
                </li>
              </ul>
            </li>
          </ul>
        </section>
  </main>
  
  <footer>
    <p>Generated with UltraLink</p>
  </footer>

  <script>
    // Graph visualization
    const width = 800;
    const height = 600;
    const svg = d3.select('#graph')
      .append('svg')
      .attr('width', '100%')
      .attr('height', '100%')
      .attr('viewBox', [0, 0, width, height])
      .attr('preserveAspectRatio', 'xMidYMid meet');
    
    // Create graph data
    const nodes = [
      
        {
          id: "camel",
          type: "animal",
          attributes: {"name":"Dromedary Camel","scientificName":"Camelus dromedarius","lifespan":40,"diet":"herbivore","status":"least concern","description":"The dromedary camel is a large, single-humped ungulate adapted for desert conditions.","adaptations":["Can go for long periods without water","Humps store fat for energy","Thick fur insulates against heat","Specialized eyelids and nostrils for sand protection","Can tolerate extreme temperatures"]}
        },
        {
          id: "fennec_fox",
          type: "animal",
          attributes: {"name":"Fennec Fox","scientificName":"Vulpes zerda","lifespan":12,"diet":"omnivore","status":"least concern","description":"The smallest canid species, known for its unusually large ears.","adaptations":["Large ears dissipate heat and detect prey underground","Thick fur insulates against cold nights","Kidney adaptations to conserve water","Pale coat reflects sunlight","Nocturnal behavior to avoid daytime heat"]}
        },
        {
          id: "desert_monitor",
          type: "animal",
          attributes: {"name":"Desert Monitor","scientificName":"Varanus griseus","lifespan":15,"diet":"carnivore","status":"least concern","description":"A large lizard found across North Africa and parts of Asia.","adaptations":["Heat-resistant scales","Efficient water conservation","Can remain inactive for long periods","Burrows to escape extreme temperatures"]}
        },
        {
          id: "sidewinder",
          type: "animal",
          attributes: {"name":"Sidewinder Rattlesnake","scientificName":"Crotalus cerastes","lifespan":20,"diet":"carnivore","status":"least concern","description":"Venomous pit viper known for its sideways movement across sand.","adaptations":["Sidewinding locomotion minimizes contact with hot sand","Heat-sensing pits detect prey","Scales provide camouflage in sandy environments","Specialized breathing to prevent sand inhalation"]}
        },
        {
          id: "scorpion",
          type: "animal",
          attributes: {"name":"Deathstalker Scorpion","scientificName":"Leiurus quinquestriatus","lifespan":5,"diet":"carnivore","status":"least concern","description":"One of the most dangerous scorpion species, with potent venom.","adaptations":["Nocturnal behavior to avoid heat","Exoskeleton prevents water loss","UV fluorescence may help detect light levels","Burrowing behavior for temperature regulation"]}
        },
        {
          id: "darkling_beetle",
          type: "animal",
          attributes: {"name":"Darkling Beetle","scientificName":"Tenebrionidae family","lifespan":2,"diet":"omnivore","status":"least concern","description":"Desert beetles with numerous adaptations for arid environments.","adaptations":["Waxy cuticle reduces water loss","Can collect water from fog on body","Stands with head down and abdomen raised to collect moisture","Nocturnal to avoid daytime heat"]}
        },
        {
          id: "roadrunner",
          type: "animal",
          attributes: {"name":"Greater Roadrunner","scientificName":"Geococcyx californianus","lifespan":8,"diet":"carnivore","status":"least concern","description":"Fast-running ground cuckoo that rarely flies.","adaptations":["Can extract water from prey","Salt glands to excrete excess salt","Ground-dwelling to avoid flying in thin, hot air","Special feathers for insulation"]}
        },
        {
          id: "desert_tortoise",
          type: "animal",
          attributes: {"name":"Desert Tortoise","scientificName":"Gopherus agassizii","lifespan":80,"diet":"herbivore","status":"vulnerable","description":"Long-lived reptile of the Mojave and Sonoran deserts with high-domed shell.","adaptations":["Can store water in bladder for extended periods","Digs burrows to escape extreme temperatures","Metabolic adaptations to survive drought","Specialized digestive system for low-quality plant material","Slow metabolism conserves energy"]}
        },
        {
          id: "cactus_wren",
          type: "animal",
          attributes: {"name":"Cactus Wren","scientificName":"Campylorhynchus brunneicapillus","lifespan":7,"diet":"insectivore","status":"least concern","description":"Desert bird that builds nests in cholla and other cacti for protection.","adaptations":["Obtains most water from food rather than drinking","Specialized nest-building in protective cacti","Heat-resistant metabolism","Efficient kidney function to conserve water"]}
        },
        {
          id: "kangaroo_rat",
          type: "animal",
          attributes: {"name":"Merriam's Kangaroo Rat","scientificName":"Dipodomys merriami","lifespan":5,"diet":"granivore","status":"least concern","description":"Small desert rodent with highly specialized adaptations for water conservation.","adaptations":["Can survive without drinking water","Extracts water metabolically from dry seeds","Specialized kidneys concentrate urine","Nocturnal to avoid daytime heat","Burrows underground during day to avoid heat"]}
        },
        {
          id: "gila_monster",
          type: "animal",
          attributes: {"name":"Gila Monster","scientificName":"Heloderma suspectum","lifespan":20,"diet":"carnivore","status":"near threatened","description":"Venomous lizard of the southwestern US and northwestern Mexico.","adaptations":["Stores fat in tail for long periods without food","Venomous bite for efficient predation","Thick skin reduces water loss","Slow metabolism allows for infrequent feeding","Can survive on as few as 3-4 meals per year"]}
        },
        {
          id: "javelina",
          type: "animal",
          attributes: {"name":"Javelina","scientificName":"Pecari tajacu","lifespan":10,"diet":"omnivore","status":"least concern","description":"Also known as collared peccary, a pig-like mammal adapted to desert environments.","adaptations":["Can consume water-rich cacti including prickly pear","Active in early morning and evening to avoid heat","Social behavior reduces predation risk","Specialized digestive system for desert plants"]}
        },
        {
          id: "saguaro",
          type: "plant",
          attributes: {"name":"Saguaro Cactus","scientificName":"Carnegiea gigantea","height":1200,"waterRequirement":"very low","description":"Iconic columnar cactus with arm-like branches.","adaptations":["Accordion-like pleats expand when absorbing water","Extensive shallow root system","Thick waxy coating to reduce water loss","Slow growth to conserve energy","CAM photosynthesis for water conservation"]}
        },
        {
          id: "barrel_cactus",
          type: "plant",
          attributes: {"name":"Barrel Cactus","scientificName":"Ferocactus wislizeni","height":150,"waterRequirement":"very low","description":"Cylindrical-shaped cactus known for tilting toward the sun.","adaptations":["Ribbed structure allows expansion during water absorption","Thick waxy coating to reduce evaporation","Spines create microclimate of shade","Can survive extremely high temperatures"]}
        },
        {
          id: "mesquite",
          type: "plant",
          attributes: {"name":"Honey Mesquite","scientificName":"Prosopis glandulosa","height":900,"waterRequirement":"low","description":"Deciduous tree with deep roots that can access groundwater.","adaptations":["Extremely deep taproots can reach 50m below surface","Small leaves reduce water loss","Drought deciduous - can shed leaves during extreme drought","Nitrogen fixing ability improves soil quality"]}
        },
        {
          id: "creosote_bush",
          type: "plant",
          attributes: {"name":"Creosote Bush","scientificName":"Larrea tridentata","height":300,"waterRequirement":"very low","description":"One of the most drought-tolerant plants, can live over 10,000 years.","adaptations":["Resinous coating on leaves prevents water loss","Toxins in soil prevent other plants from growing nearby (allelopathy)","Small leaves reduce surface area for evaporation","Can survive with just 75mm of annual rainfall"]}
        },
        {
          id: "desert_poppy",
          type: "plant",
          attributes: {"name":"Desert Poppy","scientificName":"Eschscholzia glyptosperma","height":30,"waterRequirement":"low","description":"Annual wildflower that blooms spectacularly after rains.","adaptations":["Seeds can remain dormant for years until rainfall","Quick lifecycle to complete before drought returns","Deep taproots to access underground moisture","Waxy leaf coating to reduce evaporation"]}
        },
        {
          id: "ocotillo",
          type: "plant",
          attributes: {"name":"Ocotillo","scientificName":"Fouquieria splendens","height":500,"waterRequirement":"low","description":"Spindly desert plant with bright red flowers.","adaptations":["Drought deciduous - drops leaves during dry periods","Grows leaves quickly after rain","Deep tap root","Waxy coating on stems","Thorns for protection"]}
        },
        {
          id: "brittlebush",
          type: "plant",
          attributes: {"name":"Brittlebush","scientificName":"Encelia farinosa","height":150,"waterRequirement":"very low","description":"Common desert shrub with silvery leaves and yellow flowers.","adaptations":["Resinous sap seals wounds to prevent water loss","Light-colored leaves reflect sunlight","Dense leaf hairs (trichomes) reduce water loss","Seasonal leaf drop during extreme drought","Quick response to rainfall with new growth"]}
        },
        {
          id: "desert_ironwood",
          type: "plant",
          attributes: {"name":"Desert Ironwood","scientificName":"Olneya tesota","height":1000,"waterRequirement":"low","description":"Long-lived desert tree with extremely dense wood, can live 800+ years.","adaptations":["Nitrogen fixing capability improves soil","Extremely deep root system","Small, drought-deciduous leaves","Dense wood stores water","Provides \"nurse plant\" habitat for other species"]}
        },
        {
          id: "agave",
          type: "plant",
          attributes: {"name":"Century Plant","scientificName":"Agave americana","height":200,"waterRequirement":"very low","description":"Large succulent that flowers once at the end of its life.","adaptations":["CAM photosynthesis to conserve water","Thick, waxy leaves reduce water loss","Rosette form channels water to central root","Fibrous leaf structure for structural support","Monocarpic lifecycle (flowers once then dies)"]}
        },
        {
          id: "joshua_tree",
          type: "plant",
          attributes: {"name":"Joshua Tree","scientificName":"Yucca brevifolia","height":1200,"waterRequirement":"low","description":"Iconic tree-like yucca of the Mojave Desert with unique appearance.","adaptations":["Extensive shallow root system","Thick, moisture-retaining trunk","Waxy, spine-tipped leaves reduce water loss","Specialized pollination relationship with yucca moth","Slow growth rate conserves resources"]}
        },
        {
          id: "prickly_pear",
          type: "plant",
          attributes: {"name":"Prickly Pear Cactus","scientificName":"Opuntia spp.","height":200,"waterRequirement":"very low","description":"Flat-padded cacti with colorful fruits and sharp spines.","adaptations":["Flat pads maximize photosynthesis while minimizing surface area","Waxy coating reduces water loss","Shallow, extensive root system","Spines protect from herbivores and provide shade"]}
        },
        {
          id: "cholla_cactus",
          type: "plant",
          attributes: {"name":"Cholla Cactus","scientificName":"Cylindropuntia spp.","height":300,"waterRequirement":"very low","description":"Known for detachable barbed spines that easily attach to passersby.","adaptations":["Segmented structure allows for vegetative reproduction","Dense, barbed spines deter predation","Water storage in stem segments","Shallow but extensive root system"]}
        },
        {
          id: "other_plants",
          type: "plant",
          attributes: {"name":"Various Desert Plants","description":"Collection of various smaller desert plants and grasses","waterRequirement":"low to moderate","adaptations":["Various drought adaptations","Seasonal growth patterns","Seed dormancy during dry periods"]}
        },
        {
          id: "heat",
          type: "abiotic_factor",
          attributes: {"name":"Extreme Heat","type":"climate","description":"Daytime temperatures regularly exceeding 40°C (104°F) in summer.","impact":"extreme"}
        },
        {
          id: "temperature_variation",
          type: "abiotic_factor",
          attributes: {"name":"Temperature Variation","type":"climate","description":"Large daily temperature fluctuations, often exceeding 20°C between day and night.","impact":"high"}
        },
        {
          id: "aridity",
          type: "abiotic_factor",
          attributes: {"name":"Aridity","type":"climate","description":"Low precipitation, typically less than 250mm annually, with high evaporation rates.","impact":"extreme"}
        },
        {
          id: "sand_dunes",
          type: "abiotic_factor",
          attributes: {"name":"Sand Dunes","type":"geological","description":"Mounds of windblown sand that can move and shift over time.","impact":"high"}
        },
        {
          id: "rocky_outcrops",
          type: "abiotic_factor",
          attributes: {"name":"Rocky Outcrops","type":"geological","description":"Exposed rock formations that provide shade and shelter.","impact":"medium"}
        },
        {
          id: "oasis",
          type: "abiotic_factor",
          attributes: {"name":"Oasis","type":"water","description":"Isolated water source surrounded by desert, often fed by underground springs.","impact":"high"}
        },
        {
          id: "ephemeral_streams",
          type: "abiotic_factor",
          attributes: {"name":"Ephemeral Streams","type":"water","description":"Temporary waterways that flow only after rainfall events.","impact":"medium"}
        },
        {
          id: "sandy_soil",
          type: "abiotic_factor",
          attributes: {"name":"Sandy Soil","type":"soil","description":"Coarse-grained soil with poor water retention but good drainage.","impact":"high"}
        },
        {
          id: "desert_pavement",
          type: "abiotic_factor",
          attributes: {"name":"Desert Pavement","type":"geological","description":"Dense layer of pebbles and rocks at the surface, formed by wind removing fine particles.","impact":"high"}
        },
        {
          id: "desert_varnish",
          type: "abiotic_factor",
          attributes: {"name":"Desert Varnish","type":"geological","description":"Dark coating on exposed rock surfaces, composed of clay minerals with iron and manganese oxides.","impact":"low"}
        },
        {
          id: "playa",
          type: "abiotic_factor",
          attributes: {"name":"Playa","type":"geological","description":"Flat, dry lake bed that occasionally floods after heavy rain.","impact":"medium"}
        },
        {
          id: "flash_floods",
          type: "abiotic_factor",
          attributes: {"name":"Flash Floods","type":"water","description":"Sudden, intense flooding events often occurring in desert washes after heavy rainfall.","impact":"extreme"}
        },
        {
          id: "wash",
          type: "microhabitat",
          attributes: {"name":"Desert Wash","description":"Dry streambed that carries water only after rainfall, often with distinct vegetation.","type":"seasonal_wetland","area":"variable","soilMoisture":"higher than surroundings"}
        },
        {
          id: "dune_field",
          type: "microhabitat",
          attributes: {"name":"Sand Dune Field","description":"Area of wind-deposited sand formations with specialized plant and animal communities.","type":"aeolian","area":"large","soilMoisture":"extremely low"}
        },
        {
          id: "rocky_slope",
          type: "microhabitat",
          attributes: {"name":"Rocky Slope","description":"Elevated area with exposed bedrock and boulders, providing shade and shelter.","type":"lithic","area":"medium","soilMoisture":"very low"}
        },
        {
          id: "canyon",
          type: "microhabitat",
          attributes: {"name":"Desert Canyon","description":"Deep, narrow channel with steep walls, often with increased moisture and biodiversity.","type":"erosional","area":"variable","soilMoisture":"variable"}
        },
        {
          id: "pollination_yucca",
          type: "interaction",
          attributes: {"name":"Yucca-Moth Pollination","description":"Specialized mutualistic relationship between yucca plants and yucca moths.","type":"mutualism","participants":["joshua_tree","yucca_moth"],"strength":"obligate"}
        },
        {
          id: "nurse_plant",
          type: "interaction",
          attributes: {"name":"Nurse Plant Relationship","description":"Protection of seedlings by established desert plants providing shade and improved soil.","type":"commensalism","participants":["desert_ironwood","saguaro"],"strength":"facultative"}
        },
        {
          id: "seed_dispersal",
          type: "interaction",
          attributes: {"name":"Seed Dispersal","description":"Movement of plant seeds by desert animals, aiding plant reproduction and distribution.","type":"mutualism","participants":["mesquite","coyote"],"strength":"facultative"}
        },
        {
          id: "yucca_moth",
          type: "animal",
          attributes: {"name":"Yucca Moth","scientificName":"Tegeticula yuccasella","lifespan":0.5,"diet":"herbivore","status":"least concern","description":"Small moth with specialized relationship with Joshua trees and other yuccas.","adaptations":["Specialized mouthparts for collecting pollen","Ovipositor for laying eggs in yucca flowers","Lifecycle synchronized with yucca flowering","Larvae feed only on some yucca seeds, preserving others"]}
        },
        {
          id: "coyote",
          type: "animal",
          attributes: {"name":"Coyote","scientificName":"Canis latrans","lifespan":14,"diet":"omnivore","status":"least concern","description":"Adaptable canid found throughout North American deserts and beyond.","adaptations":["Can survive on minimal water obtained from prey","Opportunistic feeding habits","Highly adaptable to different habitats","Active during cooler parts of day","Efficient predator of small desert mammals"]}
        }
    ];
    
    const links = [
      
        {
          source: "camel",
          target: "heat",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Physiological temperature regulation","strength":"extreme"}
        },
        {
          source: "fennec_fox",
          target: "heat",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Large ears for heat dissipation","strength":"strong"}
        },
        {
          source: "darkling_beetle",
          target: "aridity",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Water harvesting from air","strength":"extreme"}
        },
        {
          source: "sidewinder",
          target: "sand_dunes",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Specialized locomotion","strength":"extreme"}
        },
        {
          source: "desert_tortoise",
          target: "aridity",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Water storage in bladder","strength":"extreme"}
        },
        {
          source: "kangaroo_rat",
          target: "aridity",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Metabolic water production","strength":"extreme"}
        },
        {
          source: "gila_monster",
          target: "heat",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Fat storage and seasonal activity","strength":"strong"}
        },
        {
          source: "cactus_wren",
          target: "heat",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Behavioral thermoregulation","strength":"strong"}
        },
        {
          source: "javelina",
          target: "aridity",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Consumption of water-rich cacti","strength":"moderate"}
        },
        {
          source: "yucca_moth",
          target: "aridity",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Short lifecycle synchronized with yucca flowering","strength":"extreme"}
        },
        {
          source: "coyote",
          target: "aridity",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Obtaining moisture from prey","strength":"strong"}
        },
        {
          source: "saguaro",
          target: "heat",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Pleated structure for expansion","strength":"extreme"}
        },
        {
          source: "barrel_cactus",
          target: "aridity",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Water storage tissue","strength":"extreme"}
        },
        {
          source: "mesquite",
          target: "aridity",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Deep root system","strength":"extreme"}
        },
        {
          source: "creosote_bush",
          target: "aridity",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Resinous coating on leaves","strength":"extreme"}
        },
        {
          source: "ocotillo",
          target: "temperature_variation",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Rapid leaf production after rain","strength":"extreme"}
        },
        {
          source: "brittlebush",
          target: "heat",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Reflective leaf surfaces","strength":"strong"}
        },
        {
          source: "desert_ironwood",
          target: "aridity",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"Dense wood tissue","strength":"extreme"}
        },
        {
          source: "agave",
          target: "aridity",
          type: "adapted_to",
          attributes: {"adaptationMechanism":"CAM photosynthesis","strength":"extreme"}
        },
        {
          source: "joshua_tree",
          target: "sandy_soil",
          type: "grows_in",
          attributes: {"frequency":"permanent","dependency":"high"}
        },
        {
          source: "sidewinder",
          target: "dune_field",
          type: "lives_in",
          attributes: {"frequency":"permanent","dependency":"high"}
        },
        {
          source: "desert_tortoise",
          target: "rocky_slope",
          type: "lives_in",
          attributes: {"frequency":"seasonal","dependency":"medium"}
        },
        {
          source: "cactus_wren",
          target: "wash",
          type: "lives_in",
          attributes: {"frequency":"permanent","dependency":"medium"}
        },
        {
          source: "gila_monster",
          target: "rocky_slope",
          type: "lives_in",
          attributes: {"frequency":"permanent","dependency":"high"}
        },
        {
          source: "javelina",
          target: "canyon",
          type: "lives_in",
          attributes: {"frequency":"permanent","dependency":"medium"}
        },
        {
          source: "kangaroo_rat",
          target: "dune_field",
          type: "lives_in",
          attributes: {"frequency":"permanent","dependency":"high"}
        },
        {
          source: "scorpion",
          target: "rocky_slope",
          type: "lives_in",
          attributes: {"frequency":"permanent","dependency":"medium"}
        },
        {
          source: "coyote",
          target: "canyon",
          type: "lives_in",
          attributes: {"frequency":"permanent","dependency":"low"}
        },
        {
          source: "saguaro",
          target: "rocky_slope",
          type: "grows_in",
          attributes: {"frequency":"permanent","dependency":"medium"}
        },
        {
          source: "mesquite",
          target: "wash",
          type: "grows_in",
          attributes: {"frequency":"permanent","dependency":"high"}
        },
        {
          source: "desert_ironwood",
          target: "wash",
          type: "grows_in",
          attributes: {"frequency":"permanent","dependency":"medium"}
        },
        {
          source: "brittlebush",
          target: "rocky_slope",
          type: "grows_in",
          attributes: {"frequency":"permanent","dependency":"medium"}
        },
        {
          source: "coyote",
          target: "kangaroo_rat",
          type: "preys_on",
          attributes: {"frequency":"common","method":"hunting"}
        },
        {
          source: "coyote",
          target: "desert_tortoise",
          type: "preys_on",
          attributes: {"frequency":"rare","method":"opportunistic"}
        },
        {
          source: "sidewinder",
          target: "kangaroo_rat",
          type: "preys_on",
          attributes: {"frequency":"common","method":"ambush"}
        },
        {
          source: "desert_monitor",
          target: "scorpion",
          type: "preys_on",
          attributes: {"frequency":"occasional","method":"hunting"}
        },
        {
          source: "gila_monster",
          target: "cactus_wren",
          type: "preys_on",
          attributes: {"frequency":"occasional","method":"raiding nests"}
        },
        {
          source: "roadrunner",
          target: "scorpion",
          type: "preys_on",
          attributes: {"frequency":"common","method":"hunting"}
        },
        {
          source: "roadrunner",
          target: "sidewinder",
          type: "preys_on",
          attributes: {"frequency":"occasional","method":"hunting"}
        },
        {
          source: "javelina",
          target: "prickly_pear",
          type: "consumes",
          attributes: {"frequency":"common","method":"grazing"}
        },
        {
          source: "desert_tortoise",
          target: "desert_poppy",
          type: "consumes",
          attributes: {"frequency":"seasonal","method":"grazing"}
        },
        {
          source: "kangaroo_rat",
          target: "mesquite",
          type: "consumes",
          attributes: {"frequency":"common","method":"seed collection"}
        },
        {
          source: "desert_ironwood",
          target: "saguaro",
          type: "nurses",
          attributes: {"relationship":"provides shade and protection","strength":"strong"}
        },
        {
          source: "mesquite",
          target: "desert_poppy",
          type: "facilitates",
          attributes: {"relationship":"improves soil conditions","strength":"moderate"}
        },
        {
          source: "creosote_bush",
          target: "other_plants",
          type: "inhibits",
          attributes: {"relationship":"allelopathy","strength":"strong","description":"Creosote bushes release toxins that inhibit growth of other plants nearby"}
        },
        {
          source: "joshua_tree",
          target: "yucca_moth",
          type: "mutual_dependency",
          attributes: {"relationship":"obligate reproductive site","strength":"extreme"}
        },
        {
          source: "yucca_moth",
          target: "joshua_tree",
          type: "mutual_dependency",
          attributes: {"relationship":"obligate reproductive site","strength":"extreme"}
        }
    ];
    
    // Create force simulation
    const simulation = d3.forceSimulation(nodes)
      .force('link', d3.forceLink(links).id(d => d.id))
      .force('charge', d3.forceManyBody().strength(-100))
      .force('center', d3.forceCenter(width / 2, height / 2));
    
    // Create links
    const link = svg.append('g')
      .selectAll('line')
      .data(links)
      .join('line')
      .attr('stroke', '#999')
      .attr('stroke-opacity', 0.6)
      .attr('stroke-width', 1.5);
    
    // Create nodes
    const node = svg.append('g')
      .selectAll('circle')
      .data(nodes)
      .join('circle')
      .attr('r', 5)
      .attr('fill', d => getColorByType(d.type))
      .call(drag(simulation));
    
    // Add labels
    const label = svg.append('g')
      .selectAll('text')
      .data(nodes)
      .join('text')
      .text(d => d.attributes.name || d.attributes.title || d.id)
      .attr('font-size', 10)
      .attr('dx', 8)
      .attr('dy', 3);
    
    // Update positions on simulation tick
    simulation.on('tick', () => {
      link
        .attr('x1', d => d.source.x)
        .attr('y1', d => d.source.y)
        .attr('x2', d => d.target.x)
        .attr('y2', d => d.target.y);
      
      node
        .attr('cx', d => d.x)
        .attr('cy', d => d.y);
      
      label
        .attr('x', d => d.x)
        .attr('y', d => d.y);
    });
    
    // Implement zoom functionality
    const zoom = d3.zoom()
      .scaleExtent([0.1, 4])
      .on('zoom', (event) => {
        svg.selectAll('g').attr('transform', event.transform);
      });
    
    svg.call(zoom);
    
    // Zoom controls
    const zoomInBtn = document.getElementById('zoom-in');
    const zoomOutBtn = document.getElementById('zoom-out');
    const zoomResetBtn = document.getElementById('zoom-reset');
    
    zoomInBtn.addEventListener('click', () => {
      svg.transition().duration(300).call(zoom.scaleBy, 1.5);
    });
    
    zoomOutBtn.addEventListener('click', () => {
      svg.transition().duration(300).call(zoom.scaleBy, 0.75);
    });
    
    zoomResetBtn.addEventListener('click', () => {
      svg.transition().duration(300).call(zoom.transform, d3.zoomIdentity);
    });
    
    // Implement drag functionality
    function drag(simulation) {
      function dragstarted(event) {
        if (!event.active) simulation.alphaTarget(0.3).restart();
        event.subject.fx = event.subject.x;
        event.subject.fy = event.subject.y;
      }
      
      function dragged(event) {
        event.subject.fx = event.x;
        event.subject.fy = event.y;
      }
      
      function dragended(event) {
        if (!event.active) simulation.alphaTarget(0);
        event.subject.fx = null;
        event.subject.fy = null;
      }
      
      return d3.drag()
        .on('start', dragstarted)
        .on('drag', dragged)
        .on('end', dragended);
    }
    
    // Get color by entity type
    function getColorByType(type) {
      const colors = {
        person: '#4285F4',
        organization: '#EA4335',
        project: '#FBBC05',
        publication: '#34A853',
        event: '#8F44AD',
        location: '#16A085',
        concept: '#E67E22',
        resource: '#1ABC9C'
      };
      
      return colors[type] || '#999';
    }
    
    // Generate type filters
    const typeFilters = document.getElementById('type-filters');
    const types = [...new Set(nodes.map(node => node.type))];
    
    types.forEach(type => {
      const label = document.createElement('label');
      const input = document.createElement('input');
      input.type = 'checkbox';
      input.value = type;
      input.checked = true;
      input.dataset.type = type;
      
      label.appendChild(input);
      label.appendChild(document.createTextNode(type));
      typeFilters.appendChild(label);
      
      input.addEventListener('change', updateFilters);
    });
    
    // Clear filters button
    const clearFiltersBtn = document.getElementById('clear-filters');
    clearFiltersBtn.addEventListener('click', () => {
      Array.from(typeFilters.querySelectorAll('input')).forEach(input => {
        input.checked = true;
      });
      updateFilters();
    });
    
    // Update filters
    function updateFilters() {
      const selectedTypes = Array.from(typeFilters.querySelectorAll('input:checked'))
        .map(input => input.value);
      
      node.attr('visibility', d => selectedTypes.includes(d.type) ? 'visible' : 'hidden');
      label.attr('visibility', d => selectedTypes.includes(d.type) ? 'visible' : 'hidden');
      
      link.attr('visibility', d => {
        const sourceNode = nodes.find(node => node.id === d.source.id);
        const targetNode = nodes.find(node => node.id === d.target.id);
        return selectedTypes.includes(sourceNode.type) && selectedTypes.includes(targetNode.type) ? 'visible' : 'hidden';
      });
    }
    
    // Function to select entity by ID
    window.selectEntityById = (id) => {
      const selectedNode = nodes.find(node => node.id === id);
      if (!selectedNode) return;
      
      // Highlight the selected node
      node.attr('stroke', d => d.id === id ? '#000' : null)
          .attr('stroke-width', d => d.id === id ? 2 : null);
      
      // Center and zoom to the selected node
      const scale = 2;
      const x = width / 2 - scale * selectedNode.x;
      const y = height / 2 - scale * selectedNode.y;
      
      svg.transition().duration(500)
        .call(zoom.transform, d3.zoomIdentity.translate(x, y).scale(scale));
    };
    
    // Helper function to get entity name
    function getEntityName(entity) {
      const name = entity.attributes.name || entity.attributes.title || entity.id;
      return name;
    }
  </script>
</body>
</html>