{
  "timestamp": "2025-03-06T05:45:30.591Z",
  "testSuites": [
    {
      "name": "Performance Tests",
      "command": "npx jest tests/performance",
      "required": false,
      "status": "passed",
      "output": "\nüîç \u001b[1m\u001b[36mUltraLink Test Suite Starting\u001b[0m\n\n  console.log\n    Performance - Dataset Creation (small):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.62 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.19 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.20 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Dataset Creation (medium):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 4.58 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 2.33 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 2.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: -8.48 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Dataset Creation (large):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 14.51 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 4.20 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 6.34 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Find by Type (small):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.14 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.02 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.02 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Find by Attribute (small):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.04 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.02 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Get Relationships (small):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.07 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Find by Type (medium):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.08 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.05 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Find by Attribute (medium):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.17 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.22 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Get Relationships (medium):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.01 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Find by Type (large):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.30 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.20 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Find by Attribute (large):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.47 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.83 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Get Relationships (large):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.01 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - JSON Export (small):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.22 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.02 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.05 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - GraphML Export (small):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.26 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.02 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.18 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - JSON Export (medium):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.51 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.36 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.22 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.43 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - GraphML Export (medium):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.70 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.02 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 1.42 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - JSON Export (large):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 1.82 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 2.39 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.89 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 1.76 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - GraphML Export (large):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 2.09 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.39 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 5.69 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Full Blob Export (small):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 1.47 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.13 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.93 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Compressed Full Blob Export (small):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.42 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.81 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Full Blob Import (small):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 0.35 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.02 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 0.14 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Full Blob Export (medium):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 8.19 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.88 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.36 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 8.23 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Compressed Full Blob Export (medium):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 7.10 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 1.20 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 1.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: -5.54 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance - Full Blob Import (medium):\n\n      at log (tests/performance/large-dataset.test.js:55:11)\n\n  console.log\n      Duration: 2.41 ms\n\n      at log (tests/performance/large-dataset.test.js:56:11)\n\n  console.log\n      Memory delta:\n\n      at log (tests/performance/large-dataset.test.js:57:11)\n\n  console.log\n        RSS: 0.02 MB\n\n      at log (tests/performance/large-dataset.test.js:58:11)\n\n  console.log\n        Heap total: 0.00 MB\n\n      at log (tests/performance/large-dataset.test.js:59:11)\n\n  console.log\n        Heap used: 1.31 MB\n\n      at log (tests/performance/large-dataset.test.js:60:11)\n\n  console.log\n\n\n      at log (tests/performance/large-dataset.test.js:61:11)\n\n  console.log\n    Performance results saved to /Users/tetra/Documents/GitHub/ultralink/output/performance/performance-2025-03-06T05-45-31-439Z.json\n\n      at log (tests/performance/large-dataset.test.js:78:11)\n\n‚úÖ \u001b[32mtests/performance/large-dataset.test.js\u001b[0m - 25/25 tests passed\n\nüìä \u001b[1m\u001b[36mTest Summary\u001b[0m\n   Total Test Suites: 1\n   Total Tests: 25\n   Passed: \u001b[32m25\u001b[0m\n   Failed: \u001b[31m0\u001b[0m\n   Time: 0.26s\n\n‚úÖ \u001b[32mAll tests passed successfully!\u001b[0m\n\n",
      "error": null,
      "exitCode": 0
    },
    {
      "name": "Unit Tests",
      "command": "npx jest tests/unit",
      "required": true,
      "status": "failed",
      "output": "\nüîç \u001b[1m\u001b[36mUltraLink Test Suite Starting\u001b[0m\n\n‚ùå \u001b[31mtests/unit/ultralink.test.js\u001b[0m - 18/25 tests passed\n‚ùå \u001b[31mtests/unit/data-export.test.js\u001b[0m - 8/9 tests passed\n‚úÖ \u001b[32mtests/unit/entity.test.js\u001b[0m - 13/13 tests passed\n\nüìä \u001b[1m\u001b[36mTest Summary\u001b[0m\n   Total Test Suites: 3\n   Total Tests: 47\n   Passed: \u001b[32m39\u001b[0m\n   Failed: \u001b[31m8\u001b[0m\n   Time: 0.16s\n\n‚ùå \u001b[1m\u001b[31mFailed Tests Details:\u001b[0m\n\n1. \u001b[31mUltraLink ‚Ä∫ Entity Management ‚Ä∫ should throw an error when updating a non-existent entity\u001b[0m\n   üìÑ File: tests/unit/ultralink.test.js\n   üî¥ expect(received).toThrow()\n\nReceived function did not throw\n\n2. \u001b[31mUltraLink ‚Ä∫ Entity Management ‚Ä∫ should delete an entity with deleteEntity method\u001b[0m\n   üìÑ File: tests/unit/ultralink.test.js\n   üî¥ TypeError: Cannot read properties of undefined (reading 'entries')\n\n3. \u001b[31mUltraLink ‚Ä∫ Relationship Management ‚Ä∫ should throw an error when adding a link with non-existent source\u001b[0m\n   üìÑ File: tests/unit/ultralink.test.js\n   üî¥ expect(received).toThrow(expected)\n\nExpected pattern: /Source entity not found: nonexistent/\nReceived message: \"Source entity \\\"nonexistent\\\" not found\"\n\n      18 |   // Validate entities exist\n      19 |   if (!this.entities.has(sourceId)) {\n    > 20 |     throw new Error(`Source entity \"${sourceId}\" not found`);\n         |           ^\n      21 |   }\n      22 |   if (!this.entities.has(targetId)) {\n      23 |     throw new Error(`Target entity \"${targetId}\" not found`);\n\n4. \u001b[31mUltraLink ‚Ä∫ Relationship Management ‚Ä∫ should throw an error when adding a link with non-existent target\u001b[0m\n   üìÑ File: tests/unit/ultralink.test.js\n   üî¥ expect(received).toThrow(expected)\n\nExpected pattern: /Target entity not found: nonexistent/\nReceived message: \"Target entity \\\"nonexistent\\\" not found\"\n\n      21 |   }\n      22 |   if (!this.entities.has(targetId)) {\n    > 23 |     throw new Error(`Target entity \"${targetId}\" not found`);\n         |           ^\n      24 |   }\n      25 |\n      26 |   // Create relationship object\n\n5. \u001b[31mUltraLink ‚Ä∫ Relationship Management ‚Ä∫ should delete a relationship\u001b[0m\n   üìÑ File: tests/unit/ultralink.test.js\n   üî¥ TypeError: Cannot read properties of undefined (reading 'has')\n\n6. \u001b[31mUltraLink ‚Ä∫ Relationship Management ‚Ä∫ should return false when deleting a non-existent relationship\u001b[0m\n   üìÑ File: tests/unit/ultralink.test.js\n   üî¥ TypeError: Cannot read properties of undefined (reading 'has')\n\n7. \u001b[31mUltraLink ‚Ä∫ Data Export ‚Ä∫ should export to CSV format\u001b[0m\n   üìÑ File: tests/unit/ultralink.test.js\n   üî¥ Entity with ID \"person1\" already exists. Set allowOverwrite: true in config to override.\n\n8. \u001b[31mUltraLink Data Export ‚Ä∫ KIF Format Export ‚Ä∫ should export to KIF format with correct structure\u001b[0m\n   üìÑ File: tests/unit/data-export.test.js\n   üî¥ expect(received).toContain(expected) // indexOf\n\nExpected substring: \"(= (startDate-manages person1 project1) \\\"2023-01-01\\\")\"\nReceived string:    \";; UltraLink Knowledge Interchange Format (KIF) Export\n;; Generated: 2025-03-06T05:45:31.902Z¬∑\n;; Meta-knowledge\n(= (creationDate UltraLinkExport) \\\"2025-03-06T05:45:31.902Z\\\")\n(= (entityCount UltraLinkExport) 3)\n(= (relationshipCount UltraLinkExport) 2)¬∑\n;; Functions\n(deffunction relationshipCount (?x) (length ?kb.relationships))¬∑\n;; Rules\n(defrule entity-attributes-rule\n    \\\"A rule to infer additional attributes for entities based on their type\\\"\n    (instance ?entity ?type)\n    =>\n    (if (eq ?type Person)\n        then (assert (isAgent ?entity true))))¬∑\n(forall (?x ?y)\n    (=> (and (adapts_to ?x ?y) (> (efficiency-adapts_to ?x ?y) 0.8))\n        (well-adapted ?x ?y)))¬∑\n;; Entities and their attributes\n(instance person1 Person)\n(name person1 \\\"Alice\\\")\n(age person1 30)¬∑\n(instance person2 Person)\n(name person2 \\\"Bob\\\")\n(age person2 25)¬∑\n(instance project1 Project)\n(title project1 \\\"Project Alpha\\\")\n(status project1 \\\"active\\\")¬∑\n;; Relationships\n(manages person1 project1)\n(startDate-manages person1 project1 \\\"2023-01-01\\\")¬∑\n(contributes_to person2 project1)\n(role-contributes_to person2 project1 \\\"developer\\\")¬∑\n\"\n\n‚ùó \u001b[33mCheck the failed tests and fix the issues before proceeding.\u001b[0m\n\n",
      "error": "Command failed: npx jest tests/unit\nFAIL tests/unit/ultralink.test.js\n  UltraLink\n    Constructor\n      ‚úì should create an UltraLink instance with default options (1 ms)\n      ‚úì should create an UltraLink instance with custom options\n    Entity Management\n      ‚úì should add an entity with addEntity method (1 ms)\n      ‚úì should retrieve an entity with getEntity method\n      ‚úì should return null when getting a non-existent entity\n      ‚úì should update an entity with updateEntity method\n      ‚úï should throw an error when updating a non-existent entity\n      ‚úï should delete an entity with deleteEntity method\n      ‚úì should return false when deleting a non-existent entity\n      ‚úì should find entities by type\n      ‚úì should find entities by attribute value\n      ‚úì should find entities with custom filter (1 ms)\n    Relationship Management\n      ‚úì should add a relationship with addLink method\n      ‚úï should throw an error when adding a link with non-existent source (7 ms)\n      ‚úï should throw an error when adding a link with non-existent target (1 ms)\n      ‚úì should get relationships for an entity\n      ‚úì should filter relationships by type\n      ‚úì should get incoming relationships (backlinks) (1 ms)\n      ‚úï should delete a relationship\n      ‚úï should return false when deleting a non-existent relationship\n    Data Export\n      ‚úì should export to JSON format\n      ‚úì should export to GraphML format (1 ms)\n      ‚úï should export to CSV format\n    Full Blob Export/Import\n      ‚úì should export and import a full blob (1 ms)\n      ‚úì should export a compressed full blob\n\n  ‚óè UltraLink ‚Ä∫ Entity Management ‚Ä∫ should throw an error when updating a non-existent entity\n\n    expect(received).toThrow()\n\n    Received function did not throw\n\n       99 |       expect(() => {\n      100 |         ultralink.updateEntity('nonexistent', { name: 'New Name' });\n    > 101 |       }).toThrow();\n          |          ^\n      102 |     });\n      103 |     \n      104 |     it('should delete an entity with deleteEntity method', () => {\n\n      at Object.toThrow (tests/unit/ultralink.test.js:101:10)\n\n  ‚óè UltraLink ‚Ä∫ Entity Management ‚Ä∫ should delete an entity with deleteEntity method\n\n    TypeError: Cannot read properties of undefined (reading 'entries')\n\n      71 |   \n      72 |   // Remove all relationships involving this entity\n    > 73 |   for (const [key, rel] of this.links.entries()) {\n         |                                       ^\n      74 |     if (rel.source === id || rel.target === id) {\n      75 |       this.links.delete(key);\n      76 |     }\n\n      at UltraLink.entries (src/lib/entity-manager.js:73:39)\n      at UltraLink.call [as deleteEntity] (src/ultralink.js:87:39)\n      at Object.deleteEntity (tests/unit/ultralink.test.js:107:32)\n\n  ‚óè UltraLink ‚Ä∫ Relationship Management ‚Ä∫ should throw an error when adding a link with non-existent source\n\n    expect(received).toThrow(expected)\n\n    Expected pattern: /Source entity not found: nonexistent/\n    Received message: \"Source entity \\\"nonexistent\\\" not found\"\n\n          18 |   // Validate entities exist\n          19 |   if (!this.entities.has(sourceId)) {\n        > 20 |     throw new Error(`Source entity \"${sourceId}\" not found`);\n             |           ^\n          21 |   }\n          22 |   if (!this.entities.has(targetId)) {\n          23 |     throw new Error(`Target entity \"${targetId}\" not found`);\n\n      at UltraLink.addRelationship (src/lib/relationship-manager.js:20:11)\n      at UltraLink.call [as addRelationship] (src/ultralink.js:109:48)\n      at UltraLink.addRelationship [as addLink] (src/ultralink.js:122:17)\n      at addLink (tests/unit/ultralink.test.js:188:19)\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.toThrow (tests/unit/ultralink.test.js:189:10)\n      at Object.toThrow (tests/unit/ultralink.test.js:189:10)\n\n  ‚óè UltraLink ‚Ä∫ Relationship Management ‚Ä∫ should throw an error when adding a link with non-existent target\n\n    expect(received).toThrow(expected)\n\n    Expected pattern: /Target entity not found: nonexistent/\n    Received message: \"Target entity \\\"nonexistent\\\" not found\"\n\n          21 |   }\n          22 |   if (!this.entities.has(targetId)) {\n        > 23 |     throw new Error(`Target entity \"${targetId}\" not found`);\n             |           ^\n          24 |   }\n          25 |\n          26 |   // Create relationship object\n\n      at UltraLink.addRelationship (src/lib/relationship-manager.js:23:11)\n      at UltraLink.call [as addRelationship] (src/ultralink.js:109:48)\n      at UltraLink.addRelationship [as addLink] (src/ultralink.js:122:17)\n      at addLink (tests/unit/ultralink.test.js:194:19)\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.toThrow (tests/unit/ultralink.test.js:195:10)\n      at Object.toThrow (tests/unit/ultralink.test.js:195:10)\n\n  ‚óè UltraLink ‚Ä∫ Relationship Management ‚Ä∫ should delete a relationship\n\n    TypeError: Cannot read properties of undefined (reading 'has')\n\n      569 |     \n      570 |     // Delete from links map\n    > 571 |     if (this.links.has(sourceId)) {\n          |                    ^\n      572 |       this.links.get(sourceId).delete(`${targetId}-${type}`);\n      573 |     }\n      574 |     \n\n      at UltraLink.has [as deleteLink] (src/ultralink.js:571:20)\n      at Object.deleteLink (tests/unit/ultralink.test.js:240:32)\n\n  ‚óè UltraLink ‚Ä∫ Relationship Management ‚Ä∫ should return false when deleting a non-existent relationship\n\n    TypeError: Cannot read properties of undefined (reading 'has')\n\n      569 |     \n      570 |     // Delete from links map\n    > 571 |     if (this.links.has(sourceId)) {\n          |                    ^\n      572 |       this.links.get(sourceId).delete(`${targetId}-${type}`);\n      573 |     }\n      574 |     \n\n      at UltraLink.has [as deleteLink] (src/ultralink.js:571:20)\n      at Object.deleteLink (tests/unit/ultralink.test.js:249:32)\n\n  ‚óè UltraLink ‚Ä∫ Data Export ‚Ä∫ should export to CSV format\n\n    Entity with ID \"person1\" already exists. Set allowOverwrite: true in config to override.\n\n      16 |   // Prevent overwriting existing entities unless explicitly allowed\n      17 |   if (this.entities.has(id) && !this.config.allowOverwrite) {\n    > 18 |     throw new Error(`Entity with ID \"${id}\" already exists. Set allowOverwrite: true in config to override.`);\n         |           ^\n      19 |   }\n      20 |\n      21 |   const entity = {\n\n      at UltraLink.addEntity (src/lib/entity-manager.js:18:11)\n      at UltraLink.call [as addEntity] (src/ultralink.js:58:36)\n      at Object.addEntity (tests/unit/ultralink.test.js:341:17)\n\nFAIL tests/unit/data-export.test.js\n  UltraLink Data Export\n    JSON Export\n      ‚úì should export to JSON format\n      ‚úì should export to JSON with pretty formatting\n      ‚úì should export JSON with vectors when requested\n    GraphML Export\n      ‚úì should export to GraphML format\n    CSV Export\n      ‚úì should export to CSV format (1 ms)\n    KIF Format Export\n      ‚úï should export to KIF format with correct structure\n      ‚úì should include meta-knowledge when requested\n      ‚úì should include functions and rules when requested\n      ‚úì should handle complex entity attributes correctly (1 ms)\n\n  ‚óè UltraLink Data Export ‚Ä∫ KIF Format Export ‚Ä∫ should export to KIF format with correct structure\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"(= (startDate-manages person1 project1) \\\"2023-01-01\\\")\"\n    Received string:    \";; UltraLink Knowledge Interchange Format (KIF) Export\n    ;; Generated: 2025-03-06T05:45:31.902Z¬∑\n    ;; Meta-knowledge\n    (= (creationDate UltraLinkExport) \\\"2025-03-06T05:45:31.902Z\\\")\n    (= (entityCount UltraLinkExport) 3)\n    (= (relationshipCount UltraLinkExport) 2)¬∑\n    ;; Functions\n    (deffunction relationshipCount (?x) (length ?kb.relationships))¬∑\n    ;; Rules\n    (defrule entity-attributes-rule\n        \\\"A rule to infer additional attributes for entities based on their type\\\"\n        (instance ?entity ?type)\n        =>\n        (if (eq ?type Person)\n            then (assert (isAgent ?entity true))))¬∑\n    (forall (?x ?y)\n        (=> (and (adapts_to ?x ?y) (> (efficiency-adapts_to ?x ?y) 0.8))\n            (well-adapted ?x ?y)))¬∑\n    ;; Entities and their attributes\n    (instance person1 Person)\n    (name person1 \\\"Alice\\\")\n    (age person1 30)¬∑\n    (instance person2 Person)\n    (name person2 \\\"Bob\\\")\n    (age person2 25)¬∑\n    (instance project1 Project)\n    (title project1 \\\"Project Alpha\\\")\n    (status project1 \\\"active\\\")¬∑\n    ;; Relationships\n    (manages person1 project1)\n    (startDate-manages person1 project1 \\\"2023-01-01\\\")¬∑\n    (contributes_to person2 project1)\n    (role-contributes_to person2 project1 \\\"developer\\\")¬∑\n    \"\n\n      180 |       \n      181 |       // Check relationship attributes\n    > 182 |       expect(kif).toContain('(= (startDate-manages person1 project1) \"2023-01-01\")');\n          |                   ^\n      183 |       expect(kif).toContain('(= (role-contributes_to person2 project1) \"developer\")');\n      184 |     });\n      185 |     \n\n      at Object.toContain (tests/unit/data-export.test.js:182:19)\n\nPASS tests/unit/entity.test.js\n  Entity\n    Constructor\n      ‚úì should create an entity with the specified properties (1 ms)\n      ‚úì should create an entity with default empty attributes when not provided\n      ‚úì should handle complex attribute objects\n    Link Management\n      ‚úì should add a link with addLink method\n      ‚úì should use default link type when not specified\n      ‚úì should store metadata with links\n      ‚úì should add multiple links to different targets\n      ‚úì should allow multiple links to the same target with different types (1 ms)\n    JSON Serialization\n      ‚úì should properly serialize an entity to JSON\n      ‚úì should handle empty entities correctly\n    Edge Cases\n      ‚úì should handle entities with special characters in IDs\n      ‚úì should handle very long attribute values\n      ‚úì should maintain link order as added\n\nTest Suites: 2 failed, 1 passed, 3 total\nTests:       8 failed, 39 passed, 47 total\nSnapshots:   0 total\nTime:        0.161 s, estimated 1 s\nRan all test suites matching /tests\\/unit/i.\n",
      "exitCode": 1
    },
    {
      "name": "Integration Tests",
      "command": "npx jest tests/integration",
      "required": true,
      "status": "passed",
      "output": "\nüîç \u001b[1m\u001b[36mUltraLink Test Suite Starting\u001b[0m\n\n‚úÖ \u001b[32mtests/integration/export-formats.test.js\u001b[0m - 20/20 tests passed\n‚úÖ \u001b[32mtests/integration/research-team-export.test.js\u001b[0m - 7/7 tests passed\n‚úÖ \u001b[32mtests/integration/research-team.test.js\u001b[0m - 12/12 tests passed\n‚úÖ \u001b[32mtests/integration/html-website-features.test.js\u001b[0m - 9/9 tests passed\n‚úÖ \u001b[32mtests/integration/parser-store.test.js\u001b[0m - 5/5 tests passed\n\nüìä \u001b[1m\u001b[36mTest Summary\u001b[0m\n   Total Test Suites: 5\n   Total Tests: 53\n   Passed: \u001b[32m53\u001b[0m\n   Failed: \u001b[31m0\u001b[0m\n   Time: 0.18s\n\n‚úÖ \u001b[32mAll tests passed successfully!\u001b[0m\n\n",
      "error": null,
      "exitCode": 0
    },
    {
      "name": "System Export Tests",
      "command": "npx jest tests/system",
      "required": true,
      "status": "passed",
      "output": "\nüîç \u001b[1m\u001b[36mUltraLink Test Suite Starting\u001b[0m\n\n  console.warn\n    PNG export not fully implemented, falling back to SVG\n\n      64 |       // For now, return SVG as PNG is not fully implemented\n      65 |       // This avoids the ReferenceError while tests run\n    > 66 |       console.warn('PNG export not fully implemented, falling back to SVG');\n         |               ^\n      67 |       return options.forSystemTest\n      68 |         ? generateSVG(graphData, width, height, style)\n      69 |         : { 'graph.png': generateSVG(graphData, width, height, style) };\n\n      at warn (src/lib/exporters/visualization.js:66:15)\n      at UltraLink.toVisualization (src/ultralink.js:253:12)\n      at toVisualization (tests/system/rendering.test.js:223:43)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (tests/system/rendering.test.js:199:29)\n\n  console.log\n    Testing format: png, Files found: [ 'researchteam.png' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: svg, Files found: [ 'researchteam.svg' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: d3, Files found: [ 'researchteam-d3.html', 'researchteam.d3' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: cytoscape, Files found: [ 'researchteam-cytoscape.html' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.warn\n    PNG export not fully implemented, falling back to SVG\n\n      64 |       // For now, return SVG as PNG is not fully implemented\n      65 |       // This avoids the ReferenceError while tests run\n    > 66 |       console.warn('PNG export not fully implemented, falling back to SVG');\n         |               ^\n      67 |       return options.forSystemTest\n      68 |         ? generateSVG(graphData, width, height, style)\n      69 |         : { 'graph.png': generateSVG(graphData, width, height, style) };\n\n      at warn (src/lib/exporters/visualization.js:66:15)\n      at UltraLink.toVisualization (src/ultralink.js:253:12)\n      at toVisualization (tests/system/rendering.test.js:223:43)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (tests/system/rendering.test.js:199:29)\n\n  console.log\n    Testing format: png, Files found: [ 'desertecosystem.png' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: svg, Files found: [ 'desertecosystem.svg' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: d3, Files found: [ 'desertecosystem-d3.html', 'desertecosystem.d3' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: cytoscape, Files found: [ 'desertecosystem-cytoscape.html' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.warn\n    PNG export not fully implemented, falling back to SVG\n\n      64 |       // For now, return SVG as PNG is not fully implemented\n      65 |       // This avoids the ReferenceError while tests run\n    > 66 |       console.warn('PNG export not fully implemented, falling back to SVG');\n         |               ^\n      67 |       return options.forSystemTest\n      68 |         ? generateSVG(graphData, width, height, style)\n      69 |         : { 'graph.png': generateSVG(graphData, width, height, style) };\n\n      at warn (src/lib/exporters/visualization.js:66:15)\n      at UltraLink.toVisualization (src/ultralink.js:253:12)\n      at toVisualization (tests/system/rendering.test.js:223:43)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (tests/system/rendering.test.js:199:29)\n\n  console.log\n    Testing format: png, Files found: [ 'activeinferencelab.png' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: svg, Files found: [ 'activeinferencelab.svg' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: d3, Files found: [ 'activeinferencelab-d3.html', 'activeinferencelab.d3' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: cytoscape, Files found: [ 'activeinferencelab-cytoscape.html' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.warn\n    PNG export not fully implemented, falling back to SVG\n\n      64 |       // For now, return SVG as PNG is not fully implemented\n      65 |       // This avoids the ReferenceError while tests run\n    > 66 |       console.warn('PNG export not fully implemented, falling back to SVG');\n         |               ^\n      67 |       return options.forSystemTest\n      68 |         ? generateSVG(graphData, width, height, style)\n      69 |         : { 'graph.png': generateSVG(graphData, width, height, style) };\n\n      at warn (src/lib/exporters/visualization.js:66:15)\n      at UltraLink.toVisualization (src/ultralink.js:253:12)\n      at toVisualization (tests/system/rendering.test.js:223:43)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (tests/system/rendering.test.js:199:29)\n\n  console.log\n    Testing format: png, Files found: [ 'usahistory.png' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: svg, Files found: [ 'usahistory.svg' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: d3, Files found: [ 'usahistory-d3.html', 'usahistory.d3' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n  console.log\n    Testing format: cytoscape, Files found: [ 'usahistory-cytoscape.html' ]\n\n      at log (tests/system/rendering.test.js:243:27)\n          at Array.forEach (<anonymous>)\n\n‚úÖ \u001b[32mtests/system/rendering.test.js\u001b[0m - 56/56 tests passed\n‚úÖ \u001b[32mtests/system/placeholder.test.js\u001b[0m - 1/1 tests passed\n\nüìä \u001b[1m\u001b[36mTest Summary\u001b[0m\n   Total Test Suites: 2\n   Total Tests: 57\n   Passed: \u001b[32m57\u001b[0m\n   Failed: \u001b[31m0\u001b[0m\n   Time: 0.35s\n\n‚úÖ \u001b[32mAll tests passed successfully!\u001b[0m\n\n",
      "error": null,
      "exitCode": 0
    },
    {
      "name": "End-to-End Tests",
      "command": "npx jest tests/e2e",
      "required": true,
      "status": "passed",
      "output": "\nüîç \u001b[1m\u001b[36mUltraLink Test Suite Starting\u001b[0m\n\n‚úÖ \u001b[32mtests/e2e/knowledge-base.test.js\u001b[0m - 1/1 tests passed\n\nüìä \u001b[1m\u001b[36mTest Summary\u001b[0m\n   Total Test Suites: 1\n   Total Tests: 1\n   Passed: \u001b[32m1\u001b[0m\n   Failed: \u001b[31m0\u001b[0m\n   Time: 0.10s\n\n‚úÖ \u001b[32mAll tests passed successfully!\u001b[0m\n\n",
      "error": null,
      "exitCode": 0
    }
  ],
  "summary": {
    "total": 5,
    "passed": 4,
    "failed": 1,
    "skipped": 0
  }
}